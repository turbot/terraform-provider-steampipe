---
# generated by https://github.com/hashicorp/terraform-plugin-docs
page_title: "steampipecloud_connection Resource - terraform-provider-steampipecloud"
subcategory: ""
description: |-
  Provides a Steampipe Connection resource. The `Steampipe Cloud Connection` represents a set of tables for a single data source. Each connection is represented as a distinct Postgres schema. In order to query data, you'll need at least one connection.

  Connections are defined at the user account or organization level, and they can be shared by multiple workspaces within the account or organization.
---

# Resource: steampipecloud_connection

Manages a connection, which is defined at the user account or organization level.

## Example Usage

**Create a user connection**

```hcl
resource "steampipecloud_connection" "test" {
  plugin     = "aws"
  handle     = "aws_aaa"
  access_key = "redacted"
  secret_key = "redacted"
  regions    = ["us-east-1"]
}
```

**Create an organization connection**

```hcl
resource "steampipecloud_connection" "aws_aaa" {
  organization = "myorg"
  plugin       = "aws"
  handle       = "aws_aaa"
  access_key   = "redacted"
  secret_key   = "redacted"
  regions      = ["us-east-1"]
}

resource "steampipecloud_connection" "aws_aab" {
  organization = "myorg"
  plugin       = "aws"
  handle       = "aws_aab"
  access_key   = "redacted"
  secret_key   = "redacted"
  regions      = ["us-east-1"]
}
```

## Argument Reference

The following arguments are supported:

- `handle` - (Required) A friendly identifier for your connection, and must be unique across your connections.
- `plugin` - (Required) The name of the plugin.
- `organization` - (Optional) An organization ID or handle to create the workspace in.

### Airtable connection arguments

- `database_id` (String) Airtable Base ID.
- `token` (String) Airtable API Key. You can generate an API key by visiting [here](https://support.airtable.com/hc/en-us/articles/360056249614-Creating-a-read-only-API-key).
- `tables` (List of String) Names of the tables in database.

### Alicloud connection arguments

- `access_key` (String)
- `secret_key` (String)
- `regions` (List of String)

### AWS access key mode connection arguments

- `role_arn` (String) ARN of the role to assume.
- `external_id` (String) External id required to trust role.
- `regions` (List of String) List of AWS regions to query. Example `["us-east-1", "us-east-2"]`.

### AWS role key mode arguments

- `access_key` (String) AWS access key.
- `secret_key` (String) AWS secret key.
- `session_token` (String) AWS temporary session token.
- `regions` (List of String) List of AWS regions to query. Example `["us-east-1", "us-east-2"]`.

### Azure connection arguments

- `environment` (String) The Azure cloud environment to use, defaults to `AZUREPUBLICCLOUD`. Valid values are `AZUREPUBLICCLOUD`, `AZURECHINACLOUD`, `AZUREGERMANCLOUD`, `AZUREUSGOVERNMENTCLOUD`
- `tenant_id` (String)
- `subscription_id` (String)
- `client_id` (String)
- `client_secret` (String)

### AzureAD connection arguments

- `environment` (String)
- `tenant_id` (String)
- `client_id` (String)
- `client_secret` (String)

### BitBucket connection arguments

- `username` (String)
- `password` (String)
- `base_url` (String)

### Cloudflare connection arguments

- `api_key` (String)
- `email` (String)

### GCP connection arguments

- `project` (String) GCP project to query
- `credentials` (String)

#### Usage

```hcl
resource "steampipecloud_connection" "gcp_aaa" {
  handle      = "gcp_aab"
  plugin      = "gcp"
  project     = "project-aaa"
  credentials = file("/Users/lalitbhardwaj/Downloads/project-aaa.json")
  # credentials = file("PATH_TO_CREDENTIALS_FILE")
}
```

### Hacker News connection arguments

- `max_items` (Number) The maximum number of items to be returned.

### IBM connection arguments

- `api_key` (String)
- `regions` (List of String)

### Jira connection arguments

- `username` (String)
- `token` (String)
- `base_url` (String)

### OCI connection arguments

- `user_ocid` (String)
- `fingerprint` (String)
- `tenancy_ocid` (String)
- `private_key` (String)
- `regions` (List of String)

#### Usage

```hcl
resource "steampipecloud_connection" "oci_aaa" {
  handle       = "oci"
  plugin       = "oci"
  user_ocid    = "ocid1.user.oc1..aaaaaaaaw...."
  fingerprint  = "f1:fc:44:3a:.............."
  tenancy_ocid = "ocid1.tenancy.oc1..aaaaaaaah......"
  regions      = ["ap-mumbai-1", "us-ashburn-1"]
  private_key  = file("/Users/turbot/Downloads/12-08-13-32.cer")
}
```

### Stripe connection arguments

- `api_key` (String) You can generate your API key by visiting [here](https://stripe.com/docs/keys).

### Twitter connection arguments

- `bearer_token` (String)

### Zendesk connection arguments

- `subdomain` (String)
- `email` (string)
- `api_key` (String)

### DigitalOcean, GitHub, Linode, Slack connection arguments

- `token` (String)

## Attributes Reference

In addition to all arguments above, the following attributes are exported:

- `connection_id` - An unique identifier of the connection.
- `identity_id` - A unique identifier of the entity where the connection is created.
- `type` - The type of the resource.

## Import

Connections can be imported using an organization ID or handle, or a user ID or handle, e.g.,

```sh
terraform import steampipecloud_connection.example aws_aaa
```
